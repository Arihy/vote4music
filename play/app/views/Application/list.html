#{extends 'main.html' /}
#{set title:'Album list' /}

<h1>Album list</h1>
<span>Showing ${count} from ${first} of ${total}</span>
<table>
   <thead>
    <tr>
        <th>Artist</th>
        <th>Album</th>
        <th>Year</th>
        <th>Genre</th>
    </tr>   
   </thead>
    #{list albums, as:'album'}
    <tr>
        <td>${album.artist?.name}</td>
        <td>${album.name}</td>
        <td>${album.releaseDate?.format('yyyy')}</td>
        <td>${album.genre.toString()}</td>
    </tr>
    #{/list}
    #{if first != 1 }
          <a href="@{Application.list(first-count)}">Previous</a>
    #{/if}
    #{if first+(count-1) < total }
          <a href="@{Application.list(first+count)}">Next</a>
    #{/if}
</table>
<p><a href="/album/new">New album</a></p>